{% assign gallery =  include.gallery %}
{% assign galleryid = include.galleryid %}
<div id="{{galleryid}}" class="carousel slide carousel-fade thumbnail-indicator" data-ride="carousel">
  <div class="carousel-inner">
    {% for item in gallery %}
    {% assign id = item.path | split: "/" %}
    {% assign id = id[-1] | split: "." %}
    {% assign id = id[0] %}
    <div class="item {% if forloop.index == 1 %}active{% endif %}">
      <!--
      <img class="d-block h-100" src="{{item.path | prepend: site.baseurl }}" alt="{{item.desc}}">
      <div class="carousel-caption">
        <p>{{ item.description | newline_to_br }}</p>
      </div>
      -->
      {% include carousel-item.html media=item %}
    </div>
    {% endfor %}
  </div>
  <!-- Left and right controls -->
  <a class="left carousel-control" href="#{{galleryid}}" data-slide="prev">
    <i class="fa fa-chevron-left"></i>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#{{galleryid}}" data-slide="next">
    <i class="fa fa-chevron-right"></i>
    <span class="sr-only">Next</span>
  </a>

  <ol class="carousel-indicators">
    {% for item in gallery %}
    {% assign id = item.path | split: "/" %}
    {% assign id = id[-1] | split: "." %}
    {% assign id = id[0] %}
    {% assign slide = forloop.index | minus: 1 %}
    <li data-target="#{{galleryid}}" data-slide-to="{{ slide }}" class="{% if forloop.index == 1 %}active{% endif %}">
      {% include carousel-thumb.html media=item %}
      <!--
      <img src="{{item.image  | prepend: site.baseurl}}" alt="{{item.desc}}">
    -->
    </li>
    {% endfor %}
  </ol>
</div>
